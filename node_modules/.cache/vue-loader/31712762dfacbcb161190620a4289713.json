{"remainingRequest":"/Users/florian/.nvm/versions/node/v10.15.2/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/florian/projects/vue-easy-gallery/components/ImageRow.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/florian/projects/vue-easy-gallery/components/ImageRow.vue","mtime":1586093719528},{"path":"/Users/florian/.nvm/versions/node/v10.15.2/lib/node_modules/@vue/cli-service-global/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/florian/.nvm/versions/node/v10.15.2/lib/node_modules/@vue/cli-service-global/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/florian/.nvm/versions/node/v10.15.2/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJJbWFnZVJvdyIsCiAgICBwcm9wczogWyJpbWFnZXMiLCAiYW1vdW50IiwgIndpZHRoIiwgImhlaWdodCIsICJib3JkZXJTdHlsZSIsICJzbW9vdGhSZXNpemUiLCAidG9nZ2xlVGV4dE9uQ2xpY2siXSwKICAgIGRhdGE6IGZ1bmN0aW9uKCl7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgc2l6ZTogW10sCiAgICAgICAgICAgIGxvYWRlZDogW10sCiAgICAgICAgICAgIGhpZGVUZXh0OiBbXQogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgdXBkYXRlU2l6ZXMoKXsKICAgICAgICAgICAgdGhpcy5zaXplID0gW107CiAgICAgICAgICAgIGNvbnN0IHJhdGlvID0gW107CiAgICAgICAgICAgIGNvbnN0IGltYWdlV2l0aEhpZ2hlc3RSYXRpbyA9IHsgcmF0aW86MCB9OwogICAgICAgICAgICBmb3IoY29uc3QgaW1hZ2Ugb2YgdGhpcy5pbWFnZXMpewogICAgICAgICAgICAgICAgY29uc3QgciA9IChwYXJzZUludChpbWFnZS53aWR0aCkpIC8gKHBhcnNlSW50KGltYWdlLmhlaWdodCkpOwogICAgICAgICAgICAgICAgcmF0aW8ucHVzaChyKTsKICAgICAgICAgICAgICAgIGlmKHIgPiBpbWFnZVdpdGhIaWdoZXN0UmF0aW8ucmF0aW8pewogICAgICAgICAgICAgICAgICAgIGltYWdlV2l0aEhpZ2hlc3RSYXRpby5yYXRpbyA9IHI7CiAgICAgICAgICAgICAgICAgICAgaW1hZ2VXaXRoSGlnaGVzdFJhdGlvLmltYWdlID0gaW1hZ2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZnVsbF93aWR0aCA9IHJhdGlvLnJlZHVjZSgoYWNjdW11bGF0b3IsIGN1cnJlbnRWYWx1ZSkgPT4gYWNjdW11bGF0b3IgKyBjdXJyZW50VmFsdWUpOwogICAgICAgICAgICBmb3IoY29uc3QgaW5kZXggaW4gdGhpcy5pbWFnZXMpewogICAgICAgICAgICAgICAgbGV0IGluX3BlcmNlbnQgPSAocmF0aW9baW5kZXhdIC8gZnVsbF93aWR0aCkgKiAxMDA7CiAgICAgICAgICAgICAgICBjb25zdCBzY3JlZW5XaWR0aE9mSGlnaGVzdFJhdGlvID0gKChwYXJzZUludChpbWFnZVdpdGhIaWdoZXN0UmF0aW8uaW1hZ2Uud2lkdGgpKSAvIChwYXJzZUludChpbWFnZVdpdGhIaWdoZXN0UmF0aW8uaW1hZ2UuaGVpZ2h0KSkgLyBmdWxsX3dpZHRoKSAqIHRoaXMud2lkdGg7CgogICAgICAgICAgICAgICAgY29uc3Qgc2hyaW5raW5nRmFjdG9yID0gc2NyZWVuV2lkdGhPZkhpZ2hlc3RSYXRpbyAvIGltYWdlV2l0aEhpZ2hlc3RSYXRpby5pbWFnZS53aWR0aDsKICAgICAgICAgICAgICAgIGxldCBoZWlnaHQgPSBpbWFnZVdpdGhIaWdoZXN0UmF0aW8uaW1hZ2UuaGVpZ2h0ICogc2hyaW5raW5nRmFjdG9yOwogICAgICAgICAgICAgICAgdGhpcy5zaXplLnB1c2goICdoZWlnaHQ6ICcgKyBoZWlnaHQgKyAncHg7IHdpZHRoOiAnICsgaW5fcGVyY2VudCArICclOycpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBjbGljayhpbWFnZSl7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2NsaWNrJywgaW1hZ2UpOwogICAgICAgICAgICBpZih0aGlzLnRvZ2dsZVRleHRPbkNsaWNrICYmIGltYWdlLnRleHQpewogICAgICAgICAgICAgICAgdGhpcy50b2dnbGVUZXh0KGltYWdlKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgdG9nZ2xlVGV4dChpbWFnZSl7CiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5pbWFnZXMuaW5kZXhPZihpbWFnZSk7CiAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLmhpZGVUZXh0LCBpbmRleCwgIXRoaXMuaGlkZVRleHRbaW5kZXhdKTsKICAgICAgICB9LAogICAgICAgIGxvYWRJbWFnZShpbWFnZSl7CiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5pbWFnZXMuaW5kZXhPZihpbWFnZSk7CiAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLmxvYWRlZCwgaW5kZXgsIHRydWUpOwogICAgICAgICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LmFkZCgnbG9hZGVkJyk7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2ltYWdlTG9hZCcsIGV2ZW50KTsKICAgICAgICB9LAogICAgICAgIGdldEJhY2tncm91bmQoaW1hZ2UpewogICAgICAgICAgICByZXR1cm4gYGJhY2tncm91bmQtaW1hZ2U6IHVybCgnJHtpbWFnZS50aHVtYm5haWx9Jyk7YDsKICAgICAgICB9CiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgICBpbWFnZXMoKSB7CiAgICAgICAgICAgIHRoaXMudXBkYXRlU2l6ZXMoKTsKICAgICAgICB9LAogICAgICAgIHdpZHRoKCkgewogICAgICAgICAgICB0aGlzLnVwZGF0ZVNpemVzKCk7CiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy51cGRhdGVTaXplcygpOwogICAgfSwKfQo="},{"version":3,"sources":["ImageRow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImageRow.vue","sourceRoot":"components","sourcesContent":["<template>\n    <div  class=\"vue-gallery-row\">\n        <div v-for=\"(image, index) in images\"\n             :key=\"index\"\n             :data-sub-html=\"image.text\"\n             :data-src=\"image.src\"\n             class=\"vue-gallery-image-wrapper\"\n             :style=\"size[index] + ' position: relative; border: ' + borderStyle + ';' + (smoothResize ? 'transition: width .3s, height .3s;' : '')\"\n        >\n            <img v-if=\"!loaded[index]\" :src=\"image.thumbnail\" @click=\"click(image)\" :alt=\"image.text ? image.text : ' '\" class=\"vue-gallery-image\">\n            <img :src=\"image.src\" @load=\"loadImage(image)\" @click=\"click(image)\" :style=\"getBackground(image)\" :alt=\"image.text ? image.text : ' '\" class=\"vue-gallery-image\"/>\n            <div v-if=\"image.text\" @click=\"click(image)\" class=\"vue-gallery-text\" :style=\"hideText[index] ? 'bottom: -100%;' : ''\">{{image.text}}</div>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"ImageRow\",\n        props: [\"images\", \"amount\", \"width\", \"height\", \"borderStyle\", \"smoothResize\", \"toggleTextOnClick\"],\n        data: function(){\n            return {\n                size: [],\n                loaded: [],\n                hideText: []\n            }\n        },\n        methods: {\n            updateSizes(){\n                this.size = [];\n                const ratio = [];\n                const imageWithHighestRatio = { ratio:0 };\n                for(const image of this.images){\n                    const r = (parseInt(image.width)) / (parseInt(image.height));\n                    ratio.push(r);\n                    if(r > imageWithHighestRatio.ratio){\n                        imageWithHighestRatio.ratio = r;\n                        imageWithHighestRatio.image = image;\n                    }\n                }\n                const full_width = ratio.reduce((accumulator, currentValue) => accumulator + currentValue);\n                for(const index in this.images){\n                    let in_percent = (ratio[index] / full_width) * 100;\n                    const screenWidthOfHighestRatio = ((parseInt(imageWithHighestRatio.image.width)) / (parseInt(imageWithHighestRatio.image.height)) / full_width) * this.width;\n\n                    const shrinkingFactor = screenWidthOfHighestRatio / imageWithHighestRatio.image.width;\n                    let height = imageWithHighestRatio.image.height * shrinkingFactor;\n                    this.size.push( 'height: ' + height + 'px; width: ' + in_percent + '%;');\n                }\n            },\n            click(image){\n                this.$emit('click', image);\n                if(this.toggleTextOnClick && image.text){\n                    this.toggleText(image);\n                }\n            },\n            toggleText(image){\n                const index = this.images.indexOf(image);\n                this.$set(this.hideText, index, !this.hideText[index]);\n            },\n            loadImage(image){\n                const index = this.images.indexOf(image);\n                this.$set(this.loaded, index, true);\n                event.target.classList.add('loaded');\n                this.$emit('imageLoad', event);\n            },\n            getBackground(image){\n                return `background-image: url('${image.thumbnail}');`;\n            }\n        },\n        watch: {\n            images() {\n                this.updateSizes();\n            },\n            width() {\n                this.updateSizes();\n            }\n        },\n        mounted() {\n            this.updateSizes();\n        },\n    }\n</script>\n\n<style scoped>\n    img:hover{\n        cursor: pointer;\n    }\n    img {\n        background-size: cover;\n        background-position: center;\n        background-color: #363636;\n        max-width: 100vw;\n        filter: blur(15px);\n        transition: .8s filter  linear;\n    }\n    img.loaded {\n        filter: blur(0px);\n        animation-name: none;\n    }\n    .vue-gallery-image-wrapper{\n        align-self: center;\n        text-align: center;\n        overflow: hidden;\n    }\n    .vue-gallery-row{\n        width: 100%;\n        display: flex;\n        align-content: center;\n    }\n    .vue-gallery-image{\n        height: 100%;\n        width: 100%;\n    }\n    .vue-gallery-text{\n        transition: bottom .3s;\n        font-family: Avenir,Helvetica,Arial,sans-serif;\n        position: absolute;\n        bottom: 0;\n        max-height: calc(100% - 1rem);\n        overflow-y: scroll;\n        width: calc(100% - 1rem);\n        color: white;\n        background: rgba(54, 54, 54, .8);\n        padding: .5rem;\n        word-wrap: break-word\n    }\n</style>"]}]}