{"remainingRequest":"/Users/florian/.nvm/versions/node/v10.15.2/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/florian/projects/vue-easy-gallery/components/Zoom.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/florian/projects/vue-easy-gallery/components/Zoom.vue","mtime":1585928059490},{"path":"/Users/florian/.nvm/versions/node/v10.15.2/lib/node_modules/@vue/cli-service-global/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/florian/.nvm/versions/node/v10.15.2/lib/node_modules/@vue/cli-service-global/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/florian/.nvm/versions/node/v10.15.2/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBJbWFnZVJvdyBmcm9tICIuL0ltYWdlUm93IjsKaW1wb3J0ICdAZm9ydGF3ZXNvbWUvZm9udGF3ZXNvbWUtZnJlZS9jc3MvYWxsLmNzcycKaW1wb3J0ICdAZm9ydGF3ZXNvbWUvZm9udGF3ZXNvbWUtZnJlZS9qcy9hbGwuanMnCmxldCB6b29tOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIlpvb20iLAogICAgY29tcG9uZW50czogeyBJbWFnZVJvd30sCiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaW5kZXg6IG51bGwsCiAgICAgICAgICAgIGludGVydmFsOiBudWxsLAogICAgICAgICAgICBwbGF5aW5nOiBmYWxzZSwKICAgICAgICAgICAgcHJvZ3Jlc3NWYWx1ZTogMCwKICAgICAgICAgICAgZGlzcGxheVRleHQ6IHRydWUsCiAgICAgICAgICAgIG1vYmlsZTogdHJ1ZQogICAgICAgIH0KICAgIH0sCiAgICBwcm9wczogWyJpbWFnZXMiLCAiaSJdLAogICAgbW91bnRlZCgpewogICAgICAgIHpvb20gPSB0aGlzOwogICAgICAgIGlmKHdpbmRvdy5pbm5lcldpZHRoID4gNTAwKSB7CiAgICAgICAgICAgIHRoaXMubW9iaWxlID0gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoe2tleX0pID0+IHsKICAgICAgICAgICAgaWYoem9vbSAmJiB6b29tLmluZGV4ID09PSAtMSkgcmV0dXJuOwogICAgICAgICAgICBpZihrZXkgPT09ICdBcnJvd0xlZnQnKQogICAgICAgICAgICAgICAgem9vbS5wcmV2aW91cygpOwogICAgICAgICAgICBlbHNlIGlmKGtleSA9PT0gJ0Fycm93UmlnaHQnKQogICAgICAgICAgICAgICAgem9vbS5uZXh0KCk7CiAgICAgICAgICAgIGVsc2UgaWYoa2V5ID09PSAnRXNjYXBlJykKICAgICAgICAgICAgICAgIHpvb20uY2xvc2UoKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgY2xvc2UoKXsKICAgICAgICAgICAgaWYodGhpcy5wbGF5aW5nKXsKICAgICAgICAgICAgICAgIHRoaXMucGxheSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJyk7CiAgICAgICAgfSwKICAgICAgICBpc1RvdWNoKCkgewogICAgICAgICAgICBjb25zdCBwcmVmaXhlcyA9ICcgLXdlYmtpdC0gLW1vei0gLW8tIC1tcy0gJy5zcGxpdCgnICcpOwogICAgICAgICAgICBjb25zdCBtcSA9IHF1ZXJ5ID0+IHdpbmRvdy5tYXRjaE1lZGlhKHF1ZXJ5KS5tYXRjaGVzOwogICAgICAgICAgICBpZiAoKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdykgfHwgd2luZG93LkRvY3VtZW50VG91Y2ggJiYgZG9jdW1lbnQgaW5zdGFuY2VvZiAiRG9jdW1lbnRUb3VjaCIpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gWycoJywgcHJlZml4ZXMuam9pbigndG91Y2gtZW5hYmxlZCksKCcpLCAnaGVhcnR6JywgJyknXS5qb2luKCcnKTsKICAgICAgICAgICAgcmV0dXJuIG1xKHF1ZXJ5KTsKICAgICAgICB9LAogICAgICAgIHByZXZpb3VzKCl7CiAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3NWYWx1ZSA9IDA7CiAgICAgICAgICAgIGlmKHRoaXMuaW5kZXggPT09IDApCiAgICAgICAgICAgICAgICB0aGlzLmluZGV4ID0gdGhpcy5pbWFnZXMubGVuZ3RoIC0gMTsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgdGhpcy5pbmRleC0tOwogICAgICAgIH0sCiAgICAgICAgbmV4dCgpewogICAgICAgICAgICB0aGlzLnByb2dyZXNzVmFsdWUgPSAwOwogICAgICAgICAgICBpZih0aGlzLmluZGV4ID09PSB0aGlzLmltYWdlcy5sZW5ndGggLSAxKQogICAgICAgICAgICAgICAgdGhpcy5pbmRleCA9IDA7CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHRoaXMuaW5kZXgrKzsKCiAgICAgICAgfSwKICAgICAgICBwbGF5KCl7CiAgICAgICAgICAgIGlmKHRoaXMucGxheWluZyl7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpOwogICAgICAgICAgICAgICAgem9vbS5wcm9ncmVzc1ZhbHVlID0gMDsKICAgICAgICAgICAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgem9vbS5wcm9ncmVzc1ZhbHVlICs9IC41OwogICAgICAgICAgICAgICAgICAgIGlmKHpvb20ucHJvZ3Jlc3NWYWx1ZSA+PSAxMDApewogICAgICAgICAgICAgICAgICAgICAgICB6b29tLnByb2dyZXNzVmFsdWUgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICB6b29tLm5leHQoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCAyNSk7CiAgICAgICAgICAgICAgICB0aGlzLnBsYXlpbmcgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBzaG93VGV4dCgpewogICAgICAgICAgICB0aGlzLmRpc3BsYXlUZXh0ID0gdHJ1ZTsKICAgICAgICB9LAogICAgICAgIGhpZGVUZXh0KCl7CiAgICAgICAgICAgIHRoaXMuZGlzcGxheVRleHQgPSBmYWxzZTsKICAgICAgICB9LAogICAgICAgIHN3aXBlKGRpcmVjdGlvbil7CiAgICAgICAgICAgIGlmKGRpcmVjdGlvbiA9PT0gJ2xlZnQnKXsKICAgICAgICAgICAgICAgIHRoaXMubmV4dCgpOwogICAgICAgICAgICB9ZWxzZSBpZihkaXJlY3Rpb24gPT09ICdyaWdodCcpewogICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91cygpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgaSgpewogICAgICAgICAgICB0aGlzLmluZGV4ID0gdGhpcy5pOwogICAgICAgICAgICBpZih0aGlzLmkgIT09IC0xKXsKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5zdHlsZS5vdmVyZmxvd1kgPSAnaGlkZGVuJzsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jykuc3R5bGUub3ZlcmZsb3dZID0gJ3Njcm9sbCc7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAp9Cg=="},{"version":3,"sources":["Zoom.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Zoom.vue","sourceRoot":"components","sourcesContent":["<template>\n    <div v-if=\"i !== -1\" class=\"photo d-flex align-items-center justify-content-center\">\n        <div v-if=\"playing\" class=\"progress bg-transparent\">\n            <div class=\"progress-bar h-25 bg-info\" role=\"progressbar\" :aria-valuenow=\"progressValue\" :aria-valuemin=\"0\"  :style=\"'width: ' + progressValue + 'vw;'\" aria-valuemax=\"100\"></div>\n        </div>\n        <ImageRow @click=\"play\" class=\"row\" :images=\"[images[index]]\" amount=\"1\"></ImageRow>\n        <div v-if=\"images.length !== 1\" @click=\"previous\" class=\"prev\"><i class=\"fas fa-angle-left fa-2x text-light\"></i></div>\n        <div v-if=\"false\" class=\"play\" @click=\"play\">\n            <i v-if=\"!playing\" class=\"fas fa-play text-light\"></i>\n            <i v-if=\"playing\" class=\"fas fa-pause text-light\"></i>\n        </div>\n        <div class=\"close\" @click=\"close\">\n            <i class=\"fas fa-times text-light\"></i>\n        </div>\n        <div v-if=\"images[index].text && !displayText\" @click=\"showText\" class=\"showText\"><i class=\"fas fa-angle-up fa-2x text-light\"></i></div>\n        <div v-if=\"images[index].text && displayText\"  @click=\"hideText\" class=\"text\">{{images[index].text}}</div>\n        <div v-if=\"images.length !== 1\" @click=\"next\" class=\"next\"><i class=\"fas fa-angle-right fa-2x text-light\"></i></div>\n    </div>\n</template>\n\n<script>\n    import ImageRow from \"./ImageRow\";\n    import '@fortawesome/fontawesome-free/css/all.css'\n    import '@fortawesome/fontawesome-free/js/all.js'\n    let zoom;\n\n    export default {\n        name: \"Zoom\",\n        components: { ImageRow},\n        data(){\n            return {\n                index: null,\n                interval: null,\n                playing: false,\n                progressValue: 0,\n                displayText: true,\n                mobile: true\n            }\n        },\n        props: [\"images\", \"i\"],\n        mounted(){\n            zoom = this;\n            if(window.innerWidth > 500) {\n                this.mobile = false;\n            }\n            document.addEventListener('keydown', ({key}) => {\n                if(zoom && zoom.index === -1) return;\n                if(key === 'ArrowLeft')\n                    zoom.previous();\n                else if(key === 'ArrowRight')\n                    zoom.next();\n                else if(key === 'Escape')\n                    zoom.close();\n            });\n        },\n        methods: {\n            close(){\n                if(this.playing){\n                    this.play();\n                }\n                this.$emit('close');\n            },\n            isTouch() {\n                const prefixes = ' -webkit- -moz- -o- -ms- '.split(' ');\n                const mq = query => window.matchMedia(query).matches;\n                if (('ontouchstart' in window) || window.DocumentTouch && document instanceof \"DocumentTouch\") {\n                    return true;\n                }\n                const query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join('');\n                return mq(query);\n            },\n            previous(){\n                this.progressValue = 0;\n                if(this.index === 0)\n                    this.index = this.images.length - 1;\n                else\n                    this.index--;\n            },\n            next(){\n                this.progressValue = 0;\n                if(this.index === this.images.length - 1)\n                    this.index = 0;\n                else\n                    this.index++;\n\n            },\n            play(){\n                if(this.playing){\n                    clearInterval(this.interval);\n                    zoom.progressValue = 0;\n                    this.playing = false;\n                }else{\n                    this.interval = setInterval(() => {\n                        zoom.progressValue += .5;\n                        if(zoom.progressValue >= 100){\n                            zoom.progressValue = 0;\n                            zoom.next();\n                        }\n                    }, 25);\n                    this.playing = true;\n                }\n            },\n            showText(){\n                this.displayText = true;\n            },\n            hideText(){\n                this.displayText = false;\n            },\n            swipe(direction){\n                if(direction === 'left'){\n                    this.next();\n                }else if(direction === 'right'){\n                    this.previous();\n                }\n            }\n        },\n        watch: {\n            i(){\n                this.index = this.i;\n                if(this.i !== -1){\n                    document.querySelector('body').style.overflowY = 'hidden';\n                }else{\n                    document.querySelector('body').style.overflowY = 'scroll';\n                }\n            }\n        },\n    }\n</script>\n\n<style scoped>\n    body {\n        overflow-y: hidden;\n        position: fixed;\n    }\n    .photo {\n        z-index: 200;\n        position: fixed;\n        left: 0;\n        top: 0;\n        width: 100vw;\n        height: 100vh;\n        background-color: #363636;\n        overflow-y: hidden;\n    }\n    .photo>.row {\n        height: auto;\n        width: auto;\n        max-height: 100vh;\n        max-width: 100vw;\n    }\n    .close {\n        position: fixed;\n        right: 1rem;\n        top: 1rem;\n    }\n    .prev {\n        padding: 16px 8px 16px 8px;\n        background: rgba(54, 54, 54, .6);\n        position: fixed;\n        left: 0;\n        top: calc(50vh - 32px);\n        height: 64px!important;\n    }\n    .play {\n        padding: 8px;\n        line-height: 8px;\n        background: rgba(54, 54, 54, .6);\n        position: fixed;\n        left: calc(50vw - 23px);\n        top: 0;\n        height: 64px!important;\n    }\n    .next {\n        padding: 16px 8px 16px 8px;\n        background: rgba(54, 54, 54, .6);\n        position: fixed;\n        right: 0;\n        top: calc(50vh - 32px);\n        height: 64px!important;\n    }\n    .text{\n        padding: 8px;\n        line-height: 16px;\n        background: rgba(54, 54, 54, .6);\n        position: fixed;\n        bottom: 0;\n        width: 100vw;\n        color: white;\n    }\n    .progress{\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100vw;\n        height: 1rem;\n        border-radius: 0!important;\n        z-index: 103;\n\n    }\n    .showText {\n        padding: 8px;\n        line-height: 8px;\n        background: rgba(54, 54, 54, .6);\n        position: fixed;\n        bottom: 0;\n        left: calc(50vw - 23px);\n        color: white;\n    }\n    .progress > .progress-bar{\n        transition: none!important;\n    }\n    .img-wrapper{\n        border: none!important;\n    }\n</style>"]}]}