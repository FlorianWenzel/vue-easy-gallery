{"remainingRequest":"/Users/florian/.nvm/versions/node/v10.15.2/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/florian/projects/vue-easy-gallery/components/ImageRow.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/florian/projects/vue-easy-gallery/components/ImageRow.vue","mtime":1586011886654},{"path":"/Users/florian/.nvm/versions/node/v10.15.2/lib/node_modules/@vue/cli-service-global/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/florian/.nvm/versions/node/v10.15.2/lib/node_modules/@vue/cli-service-global/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/florian/.nvm/versions/node/v10.15.2/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJJbWFnZVJvdyIsCiAgICBwcm9wczogWyJpbWFnZXMiLCAiYW1vdW50IiwgIndpZHRoIiwgImhlaWdodCIsICJib3JkZXJTdHlsZSJdLAogICAgZGF0YTogZnVuY3Rpb24oKXsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICB3aWR0aHM6IFtdLAogICAgICAgICAgICB3aWRlc3RJbWFnZTogbnVsbCwKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGdldFdpZHRoKGluZGV4KXsKICAgICAgICAgICAgY29uc3QgcmF0aW8gPSBbXTsKICAgICAgICAgICAgY29uc3QgaW1hZ2VXaXRoSGlnaGVzdFJhdGlvID0geyByYXRpbzowIH07CiAgICAgICAgICAgIGZvcihjb25zdCBpbWFnZSBvZiB0aGlzLmltYWdlcyl7CiAgICAgICAgICAgICAgICBjb25zdCByID0gKHBhcnNlSW50KGltYWdlLndpZHRoKSkgLyAocGFyc2VJbnQoaW1hZ2UuaGVpZ2h0KSk7CiAgICAgICAgICAgICAgICByYXRpby5wdXNoKHIpOwogICAgICAgICAgICAgICAgaWYociA+IGltYWdlV2l0aEhpZ2hlc3RSYXRpby5yYXRpbyl7CiAgICAgICAgICAgICAgICAgICAgaW1hZ2VXaXRoSGlnaGVzdFJhdGlvLnJhdGlvID0gcjsKICAgICAgICAgICAgICAgICAgICBpbWFnZVdpdGhIaWdoZXN0UmF0aW8uaW1hZ2UgPSBpbWFnZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCBmdWxsX3dpZHRoID0gcmF0aW8ucmVkdWNlKChhY2N1bXVsYXRvciwgY3VycmVudFZhbHVlKSA9PiBhY2N1bXVsYXRvciArIGN1cnJlbnRWYWx1ZSk7CiAgICAgICAgICAgIGxldCBpbl9wZXJjZW50ID0gKHJhdGlvW2luZGV4XSAvIGZ1bGxfd2lkdGgpICogMTAwOwogICAgICAgICAgICBjb25zdCBzY3JlZW5XaWR0aE9mSGlnaGVzdFJhdGlvID0gKChwYXJzZUludChpbWFnZVdpdGhIaWdoZXN0UmF0aW8uaW1hZ2Uud2lkdGgpKSAvIChwYXJzZUludChpbWFnZVdpdGhIaWdoZXN0UmF0aW8uaW1hZ2UuaGVpZ2h0KSkgLyBmdWxsX3dpZHRoKSAqIHRoaXMud2lkdGg7CgogICAgICAgICAgICBjb25zdCBzaHJpbmtpbmdGYWN0b3IgPSBzY3JlZW5XaWR0aE9mSGlnaGVzdFJhdGlvIC8gaW1hZ2VXaXRoSGlnaGVzdFJhdGlvLmltYWdlLndpZHRoOwogICAgICAgICAgICBsZXQgaGVpZ2h0ID0gaW1hZ2VXaXRoSGlnaGVzdFJhdGlvLmltYWdlLmhlaWdodCAqIHNocmlua2luZ0ZhY3RvcjsKICAgICAgICAgICAgaWYoaGVpZ2h0ID4gd2luZG93LmlubmVySGVpZ2h0KXsKICAgICAgICAgICAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gJ2hlaWdodDogJyArIGhlaWdodCArICdweDsgd2lkdGg6ICcgKyBpbl9wZXJjZW50ICsgJyU7JzsKICAgICAgICB9LAogICAgICAgIGNsaWNrKGltYWdlKXsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2xpY2snLCBpbWFnZSk7CiAgICAgICAgfSwKICAgICAgICBsb2FkSW1hZ2UoaW1hZ2UpewogICAgICAgICAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbWFnZS5pZCkpCiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbWFnZS5pZCkucmVtb3ZlKCk7CiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuYWRkKCdsb2FkZWQnKTsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnaW1hZ2VMb2FkJywgZXZlbnQpOwogICAgICAgIH0sCiAgICAgICAgZ2V0QmFja2dyb3VuZChpbWFnZSl7CiAgICAgICAgICAgIHJldHVybiBgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcke2ltYWdlLnRodW1ibmFpbF91cmx9Jyk7YDsKICAgICAgICB9CiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgICBpbWFnZXM6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHRoaXMud2lkdGhzID0gW107CiAgICAgICAgICAgIGZvcihjb25zdCBpbmRleCBpbiB0aGlzLmltYWdlcyl7CiAgICAgICAgICAgICAgICB0aGlzLndpZHRocy5wdXNoKHRoaXMuZ2V0V2lkdGgoaW5kZXgpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIGZvcihjb25zdCBpbmRleCBpbiB0aGlzLmltYWdlcyl7CiAgICAgICAgICAgIHRoaXMud2lkdGhzLnB1c2godGhpcy5nZXRXaWR0aChpbmRleCkpOwogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["ImageRow.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImageRow.vue","sourceRoot":"components","sourcesContent":["<template>\n    <div  class=\"w-100 imagerow d-flex align-content-center\">\n        <div :key=\"index\" :data-sub-html=\"image.text\" :data-src=\"image.src\" v-for=\"(image, index) in images\" class=\"img-wrapper align-self-center overflow-hidden\" :style=\"widths[index] + ' border: ' + borderStyle + ';'\">\n            <img :src=\"image.thumbnail\" :id=\"image.id\" @click=\"click(image)\" :alt=\"image.text ? image.text : ' '\" class=\"h-100\">\n            <img :src=\"image.src\" @load=\"loadImage(image)\" @click=\"click(image)\" :style=\"getBackground(image)\" :alt=\"image.text ? image.text : ' '\" class=\"h-100\"/>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"ImageRow\",\n        props: [\"images\", \"amount\", \"width\", \"height\", \"borderStyle\"],\n        data: function(){\n            return {\n                widths: [],\n                widestImage: null,\n            }\n        },\n        methods: {\n            getWidth(index){\n                const ratio = [];\n                const imageWithHighestRatio = { ratio:0 };\n                for(const image of this.images){\n                    const r = (parseInt(image.width)) / (parseInt(image.height));\n                    ratio.push(r);\n                    if(r > imageWithHighestRatio.ratio){\n                        imageWithHighestRatio.ratio = r;\n                        imageWithHighestRatio.image = image;\n                    }\n                }\n                const full_width = ratio.reduce((accumulator, currentValue) => accumulator + currentValue);\n                let in_percent = (ratio[index] / full_width) * 100;\n                const screenWidthOfHighestRatio = ((parseInt(imageWithHighestRatio.image.width)) / (parseInt(imageWithHighestRatio.image.height)) / full_width) * this.width;\n\n                const shrinkingFactor = screenWidthOfHighestRatio / imageWithHighestRatio.image.width;\n                let height = imageWithHighestRatio.image.height * shrinkingFactor;\n                if(height > window.innerHeight){\n                    height = window.innerHeight;\n                }\n                return 'height: ' + height + 'px; width: ' + in_percent + '%;';\n            },\n            click(image){\n                this.$emit('click', image);\n            },\n            loadImage(image){\n                if(document.getElementById(image.id))\n                    document.getElementById(image.id).remove();\n                event.target.classList.add('loaded');\n                this.$emit('imageLoad', event);\n            },\n            getBackground(image){\n                return `background-image: url('${image.thumbnail_url}');`;\n            }\n        },\n        watch: {\n            images: function(){\n                this.widths = [];\n                for(const index in this.images){\n                    this.widths.push(this.getWidth(index));\n                }\n            }\n        },\n        mounted() {\n            for(const index in this.images){\n                this.widths.push(this.getWidth(index));\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .postImageRow>.img-wrapper {\n        border: solid thin white;\n    }\n    img:hover{\n        cursor: pointer;\n    }\n    img {\n        background-size: cover;\n        background-position: center;\n        background-color: #363636;\n        max-height: 100vh;\n        max-width: 100vw;\n        filter: blur(10px);\n    }\n    img.loaded {\n        transition: .3s filter  linear;\n        filter: blur(0px);\n        animation-name: none;\n    }\n    .align-content-center {\n        align-content: center;\n    }\n    .d-flex {\n        display: flex;\n    }\n    .overflow-hidden{\n        overflow: hidden;\n    }\n    .align-self-center{\n        align-self: center;\n        text-align: center;\n    }\n    .w-100 {\n        width: 100%!important;\n    }\n    .h-100 {\n        height: 100%!important;\n    }\n</style>"]}]}